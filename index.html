<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù„Ù ÙˆØ§Ø±Ø¨Ø­</title>

<!-- PWA -->
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#b30000">

<style>
body{
  background:#0f0f0f;
  color:#fff;
  font-family:Tahoma, Arial;
  text-align:center;
  margin:0;
  padding:0;
}
h1{margin-top:20px}
#wheel{
  width:240px;
  height:240px;
  border-radius:50%;
  margin:20px auto;
  border:8px solid #b30000;
  background:conic-gradient(
    gold 0deg 60deg,
    #b30000 60deg 120deg,
    gold 120deg 180deg,
    #b30000 180deg 240deg,
    gold 240deg 300deg,
    #b30000 300deg 360deg
  );
  transition:transform 0.6s ease-out;
}
button,input{
  padding:12px 18px;
  margin:6px;
  border-radius:8px;
  border:none;
  font-size:16px;
}
#spin{
  background:#b30000;
  color:white;
  font-size:18px;
}
#msg{
  margin-top:15px;
  font-size:18px;
  min-height:24px;
}
.box{
  background:#1a1a1a;
  margin:20px;
  padding:15px;
  border-radius:10px;
}
hr{border:1px solid #333}
</style>
</head>

<body>

<h1>ğŸ¡ Ù„Ù ÙˆØ§Ø±Ø¨Ø­</h1>
<p>Ø¹Ø¯Ø¯ Ù„ÙØ§ØªÙƒ: <b><span id="spins">0</span></b></p>

<div id="wheel"></div>
<button id="spin">Ù„Ù Ø§Ù„Ø¹Ø¬Ù„Ø©</button>
<div id="msg"></div>

<div class="box">
<h3>ğŸ’³ Ø´Ø­Ù† Ø¹Ø¨Ø± Ø´Ø§Ù… ÙƒØ§Ø´</h3>
<p>Ø­ÙˆÙ‘Ù„ Ø§Ù„Ù…Ø¨Ù„Øº Ø¥Ù„Ù‰ Ø§Ù„Ø±Ù‚Ù…:</p>
<p><b>09XXXXXXXX</b></p>
<p>Ø«Ù… Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„Ø´Ø­Ù†:</p>
<input id="code" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙˆØ¯ Ø§Ù„Ø´Ø­Ù†">
<br>
<button onclick="redeem()">ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø´Ø­Ù†</button>
</div>

<div class="box">
<h4>ğŸ“Œ Ø§Ù„ØªØ¹Ù„ÙŠÙ…Ø§Øª</h4>
<p>ğŸ”¹ Ù„ÙØ© Ù…Ø¬Ø§Ù†ÙŠØ© Ø¹Ù†Ø¯ Ø£ÙˆÙ„ Ø¯Ø®ÙˆÙ„</p>
<p>ğŸ”¹ Ø¹Ù†Ø¯ Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„Ù„ÙØ§Øª ÙŠØ¬Ø¨ Ø§Ù„Ø´Ø­Ù†</p>
<p>ğŸ”¹ Ø§Ù„Ù„Ø¹Ø¨Ø© Ù„Ù„ØªØ³Ù„ÙŠØ© ÙˆÙØ±ØµØ© Ø­Ø¸</p>
</div>

<script>
// ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù„ÙØ§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
let spins = localStorage.getItem("spins")
  ? parseInt(localStorage.getItem("spins"))
  : 1;

const codes = {
  "SHAM10":5,
  "SHAM20":12,
  "SHAM50":40
};

update();

document.getElementById("spin").onclick = ()=>{
  if(spins <= 0){
    document.getElementById("msg").innerText="âŒ Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„ÙØ§ØªØŒ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ø´Ø­Ù†";
    return;
  }

  spins--;
  save();

  let deg = Math.floor(Math.random()*360);
  document.getElementById("wheel").style.transform =
    "rotate("+(deg+720)+"deg)";

  setTimeout(()=>{
    if(deg % 2 === 1){
      spins++;
      document.getElementById("msg").innerText="ğŸ‰ Ø±Ø¨Ø­Øª Ù„ÙØ© Ø¥Ø¶Ø§ÙÙŠØ©!";
    }else{
      document.getElementById("msg").innerText="âŒ Ø­Ø¸ Ø£ÙˆÙØ±";
    }
    save();
  },600);
};

function redeem(){
  let c = document.getElementById("code").value.trim();
  if(codes[c]){
    spins += codes[c];
    document.getElementById("msg").innerText =
      "âœ… ØªÙ… Ø´Ø­Ù† "+codes[c]+" Ù„ÙØ§Øª";
    delete codes[c];
    document.getElementById("code").value="";
    save();
  }else{
    document.getElementById("msg").innerText="âŒ ÙƒÙˆØ¯ ØºÙŠØ± ØµØ­ÙŠØ­";
  }
}

function save(){
  localStorage.setItem("spins", spins);
  update();
}

function update(){
  document.getElementById("spins").innerText = spins;
}
</script>

</body>
</html>
