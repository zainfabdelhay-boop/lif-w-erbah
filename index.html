<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ø§Ø±ÙƒØ¶ ÙˆØ§Ø±Ø¨Ø­</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  background:#0b0f14;
  font-family:Arial;
  color:#fff;
  text-align:center;
}
.badge{
  margin-top:10px;
  display:inline-block;
  padding:6px 14px;
  border-radius:20px;
  background:#00ff88;
  color:#000;
  font-weight:bold;
}
#game{
  width:100%;
  max-width:420px;
  height:240px;
  margin:15px auto;
  background:linear-gradient(#1f2933,#111827);
  border-radius:16px;
  border:2px solid #00ff88;
  position:relative;
  overflow:hidden;
}
#ground{
  position:absolute;
  bottom:0;
  width:200%;
  height:35px;
  background:repeating-linear-gradient(
    90deg,#374151 0 30px,#4b5563 30px 60px
  );
}
#player{
  position:absolute;
  left:50px;
  bottom:35px;
  width:34px;
  height:34px;
  background:radial-gradient(circle at 30% 30%,#00ffcc,#00aa88);
  border-radius:50%;
}
.obstacle{
  position:absolute;
  bottom:35px;
  width:26px;
  height:42px;
  background:linear-gradient(#ff5555,#aa0000);
  border-radius:8px;
}
button{
  padding:12px 30px;
  font-size:16px;
  background:#00ff88;
  color:#000;
  border:none;
  border-radius:10px;
  margin-top:10px;
}
#msg{
  margin-top:8px;
  font-size:18px;
}

/* Ù†Ø¨Ø¶ Ø§Ù„Ù‚Ù„Ø¨ */
#heartbeat{
  width:100%;
  max-width:420px;
  height:60px;
  margin:20px auto;
  background:#020617;
  border-radius:12px;
  border:1px solid #00ff88;
}
</style>
</head>

<body>

<div class="badge">ğŸ†“ Ù…Ø¬Ø§Ù†ÙŠØ©</div>

<h2>ğŸƒâ€â™‚ï¸ Ø§Ø±ÙƒØ¶ ÙˆØ§Ø±Ø¨Ø­</h2>
<p>Ø§Ù„Ù…Ø³Ø§ÙØ©: <span id="score">0</span></p>

<div id="game">
  <div id="ground"></div>
  <div id="player"></div>
</div>

<button onclick="jump()">Ù‚ÙØ²</button>
<div id="msg"></div>

<canvas id="heartbeat"></canvas>

<script>
// ====== Ø§Ù„Ù„Ø¹Ø¨Ø© ======
const game=document.getElementById("game");
const player=document.getElementById("player");
const ground=document.getElementById("ground");
const scoreEl=document.getElementById("score");
const msg=document.getElementById("msg");

let y=0,v=0,gravity=0.8,jumping=false;
let speed=4,score=0,gameOver=false;
let obstacles=[];
let distance=0,minDistance=240;

function jump(){
  if(jumping||gameOver) return;
  v=13;
  jumping=true;
}

setInterval(()=>{
  if(gameOver) return;

  v-=gravity;
  y+=v;
  if(y<=0){y=0;v=0;jumping=false;}
  player.style.bottom=(35+y)+"px";

  ground.style.left=(ground.offsetLeft-speed)+"px";
  if(ground.offsetLeft<=-game.offsetWidth) ground.style.left="0px";

  distance+=speed;
  if(distance>minDistance){
    let o=document.createElement("div");
    o.className="obstacle";
    o.style.right="-40px";
    game.appendChild(o);
    obstacles.push(o);
    distance=0;
    minDistance=200+Math.random()*140;
  }

  obstacles.forEach((o,i)=>{
    o.style.right=(parseInt(o.style.right)+speed)+"px";
    let r1=player.getBoundingClientRect();
    let r2=o.getBoundingClientRect();
    if(!(r1.right<r2.left||r1.left>r2.right||r1.bottom<r2.top||r1.top>r2.bottom)){
      msg.innerText="âŒ Ø®Ø³Ø±Øª!";
      gameOver=true;
    }
    if(o.offsetLeft<-60){
      o.remove(); obstacles.splice(i,1);
      score+=10;
      scoreEl.innerText=score;
      if(score%120===0) speed+=0.3;
    }
  });
},30);

// ====== Ù†Ø¨Ø¶ Ø§Ù„Ù‚Ù„Ø¨ ======
const canvas=document.getElementById("heartbeat");
const ctx=canvas.getContext("2d");
canvas.width=420;
canvas.height=60;

let x=0;
function heartbeat(){
  ctx.fillStyle="#020617";
  ctx.fillRect(0,0,canvas.width,canvas.height);

  ctx.strokeStyle="#00ff88";
  ctx.lineWidth=2;
  ctx.beginPath();
  ctx.moveTo(0,canvas.height/2);

  for(let i=0;i<canvas.width;i++){
    let y=canvas.height/2;
    if(i%60===30){
      y-=20;
    }
    ctx.lineTo(i,y);
  }
  ctx.stroke();
  requestAnimationFrame(heartbeat);
}
heartbeat();
</script>

</body>
</html>
