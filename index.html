<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ø§Ø±ÙƒØ¶ ÙˆØ§Ø±Ø¨Ø­</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  background:linear-gradient(#1a1a1a,#000);
  font-family:Arial;
  color:#fff;
  text-align:center;
}
#game{
  width:100%;
  max-width:420px;
  height:230px;
  margin:20px auto;
  background:linear-gradient(#3a3a3a,#2a2a2a);
  border-radius:16px;
  border:2px solid #ff2a2a;
  position:relative;
  overflow:hidden;
}
#ground{
  position:absolute;
  bottom:0;
  width:200%;
  height:35px;
  background:repeating-linear-gradient(
    90deg,
    #555 0 30px,
    #666 30px 60px
  );
}
#player{
  position:absolute;
  left:50px;
  bottom:35px;
  width:34px;
  height:34px;
  background:radial-gradient(circle at 30% 30%,#00ffcc,#008080);
  border-radius:50%;
}
.obstacle{
  position:absolute;
  bottom:35px;
  width:26px;
  height:42px;
  background:linear-gradient(#ff5555,#aa0000);
  border-radius:8px;
}
button{
  margin-top:10px;
  padding:12px 30px;
  font-size:17px;
  background:#ff2a2a;
  color:white;
  border:none;
  border-radius:10px;
}
#msg{
  margin-top:10px;
  font-size:18px;
}
</style>
</head>

<body>

<h2>ğŸƒâ€â™‚ï¸ Ø§Ø±ÙƒØ¶ ÙˆØ§Ø±Ø¨Ø­</h2>
<p>Ø§Ù„Ù…Ø³Ø§ÙØ©: <span id="score">0</span></p>

<div id="game">
  <div id="ground"></div>
  <div id="player"></div>
</div>

<button onclick="jump()">Ù‚ÙØ²</button>
<div id="msg"></div>

<script>
const game = document.getElementById("game");
const player = document.getElementById("player");
const ground = document.getElementById("ground");
const scoreEl = document.getElementById("score");
const msg = document.getElementById("msg");

let y = 0;
let v = 0;
let gravity = 0.8;
let jumping = false;

let speed = 4;
let score = 0;
let gameOver = false;
let obstacles = [];

function jump(){
  if(jumping || gameOver) return;
  v = 13;
  jumping = true;
}

setInterval(()=>{
  if(gameOver) return;

  // Ø­Ø±ÙƒØ© Ø§Ù„Ù„Ø§Ø¹Ø¨
  v -= gravity;
  y += v;
  if(y <= 0){
    y = 0;
    v = 0;
    jumping = false;
  }
  player.style.bottom = (35 + y) + "px";

  // Ø­Ø±ÙƒØ© Ø§Ù„Ø£Ø±Ø¶
  ground.style.left = (ground.offsetLeft - speed) + "px";
  if(ground.offsetLeft <= -game.offsetWidth){
    ground.style.left = "0px";
  }

  // Ø¥Ù†Ø´Ø§Ø¡ Ø¹ÙˆØ§Ø¦Ù‚
  if(Math.random() < 0.02){
    let o = document.createElement("div");
    o.className = "obstacle";
    o.style.right = "-40px";
    game.appendChild(o);
    obstacles.push(o);
  }

  // ØªØ­Ø±ÙŠÙƒ Ø§Ù„Ø¹ÙˆØ§Ø¦Ù‚ ÙˆØ§Ù„ØªØµØ§Ø¯Ù…
  obstacles.forEach((o,i)=>{
    o.style.right = (parseInt(o.style.right) + speed) + "px";

    let r1 = player.getBoundingClientRect();
    let r2 = o.getBoundingClientRect();
    if(!(r1.right < r2.left || r1.left > r2.right || r1.bottom < r2.top || r1.top > r2.bottom)){
      msg.innerText = "âŒ Ø®Ø³Ø±Øª!";
      gameOver = true;
    }

    if(o.offsetLeft < -50){
      o.remove();
      obstacles.splice(i,1);
      score += 10;
      scoreEl.innerText = score;
      if(score % 100 === 0) speed += 0.5;
      if(score >= 600){
        msg.innerText = "ğŸ‰ Ù…Ø¨Ø±ÙˆÙƒ Ø±Ø¨Ø­Øª!";
        gameOver = true;
      }
    }
  });

},30);
</script>

</body>
</html>
