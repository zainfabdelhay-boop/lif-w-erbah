<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ø§Ø±ÙƒØ¶ ÙˆØ§Ø±Ø¨Ø­</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  background:#111;
  color:white;
  font-family:Arial;
  text-align:center;
}
#game{
  width:100%;
  max-width:420px;
  height:240px;
  background:linear-gradient(#444,#222);
  margin:15px auto;
  position:relative;
  overflow:hidden;
  border-radius:14px;
  border:2px solid red;
}
#ground{
  position:absolute;
  bottom:0;
  width:200%;
  height:35px;
  background:repeating-linear-gradient(
    90deg,#555 0 25px,#666 25px 50px
  );
}
#duck{
  position:absolute;
  bottom:35px;
  left:50px;
  width:38px;
  height:38px;
  background:radial-gradient(circle at 30% 30%,#FFD700,#FF8C00);
  border-radius:50% 50% 40% 40%;
}
.duck-down{
  height:22px;
  width:45px;
}
.obstacle{
  position:absolute;
  background:#c0392b;
  border-radius:6px;
}
.groundObs{
  width:25px;
  height:40px;
  bottom:35px;
}
.bird{
  width:32px;
  height:18px;
  background:#eee;
  top:70px;
  border-radius:50% 50% 40% 40%;
}

.controls{
  margin-top:10px;
}
button{
  padding:12px 20px;
  font-size:16px;
  border:none;
  border-radius:8px;
  margin:5px;
}
#jump{background:#27ae60;color:white}
#down{background:#2980b9;color:white}
#msg{margin-top:8px;font-size:18px}
</style>
</head>

<body>

<h2>ğŸ¦† Ø§Ø±ÙƒØ¶ ÙˆØ§Ø±Ø¨Ø­</h2>
<p>Ø§Ù„Ù…Ø³Ø§ÙØ©: <span id="score">0</span></p>

<div id="game">
  <div id="ground"></div>
  <div id="duck"></div>
</div>

<div class="controls">
  <button id="jump">Ù‚ÙØ² â¬†ï¸</button>
  <button id="down">Ø§Ù†Ø­Ù†Ø§Ø¡ â¬‡ï¸</button>
</div>

<div id="msg"></div>

<script>
const game = document.getElementById("game");
const duck = document.getElementById("duck");
const ground = document.getElementById("ground");
const scoreEl = document.getElementById("score");
const msg = document.getElementById("msg");

let y=0, v=0;
let gravity=0.9;
let jumping=false, down=false;
let speed=4, score=0, gameOver=false;
let obstacles=[];

// ØªØ­ÙƒÙ…
document.getElementById("jump").ontouchstart =
document.getElementById("jump").onclick = ()=>{
  if(jumping||gameOver) return;
  v=13; jumping=true;
};
document.getElementById("down").ontouchstart =
document.getElementById("down").onclick = ()=>{
  down=true;
  duck.classList.add("duck-down");
};
document.getElementById("down").ontouchend =
document.getElementById("down").onmouseup = ()=>{
  down=false;
  duck.classList.remove("duck-down");
};

// Ù„ÙˆØ¨ Ø§Ù„Ù„Ø¹Ø¨Ø©
setInterval(()=>{
  if(gameOver) return;

  // Ù‚ÙØ²
  v-=gravity;
  y+=v;
  if(y<=0){y=0;v=0;jumping=false;}
  duck.style.bottom=(35+y)+"px";

  // Ø£Ø±Ø¶
  ground.style.left=(ground.offsetLeft-speed)+"px";
  if(ground.offsetLeft<=-game.offsetWidth)
    ground.style.left="0px";

  // ØªÙˆÙ„ÙŠØ¯ Ø¹ÙˆØ§Ø¦Ù‚
  if(Math.random()<0.015){
    let o=document.createElement("div");
    if(Math.random()<0.5){
      o.className="obstacle groundObs";
      o.style.bottom="35px";
    }else{
      o.className="obstacle bird";
      o.style.top="70px";
    }
    o.style.right="-40px";
    game.appendChild(o);
    obstacles.push(o);
  }

  // ØªØ­Ø±ÙŠÙƒ ÙˆØªØµØ§Ø¯Ù…
  obstacles.forEach((o,i)=>{
    o.style.right=(parseInt(o.style.right)+speed)+"px";
    let r1=duck.getBoundingClientRect();
    let r2=o.getBoundingClientRect();
    if(!(r1.right<r2.left||r1.left>r2.right||r1.bottom<r2.top||r1.top>r2.bottom)){
      msg.innerText="âŒ Ø®Ø³Ø±Øª!";
      gameOver=true;
    }
    if(o.offsetLeft<-50){
      o.remove(); obstacles.splice(i,1);
      score+=10; scoreEl.innerText=score;
      if(score%100===0) speed+=0.5;
      if(score>=600){
        msg.innerText="ğŸ‰ Ø±Ø¨Ø­Øª!";
        gameOver=true;
      }
    }
  });

},30);
</script>

</body>
</html>
