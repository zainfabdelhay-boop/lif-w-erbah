<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>Ø§Ø±ÙƒØ¶ ÙˆØ§Ø±Ø¨Ø­</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  background:linear-gradient(#222,#111);
  color:white;
  font-family:Arial;
  text-align:center;
}
#game{
  width:100%;
  max-width:420px;
  height:220px;
  background:#333;
  margin:20px auto;
  position:relative;
  overflow:hidden;
  border-radius:15px;
  border:2px solid red;
}
#ground{
  position:absolute;
  bottom:0;
  width:200%;
  height:30px;
  background:repeating-linear-gradient(
    90deg,
    #444 0 20px,
    #555 20px 40px
  );
}
#player{
  width:32px;
  height:32px;
  background:radial-gradient(circle at 30% 30%, #7CFC00, #006400);
  border-radius:50%;
  position:absolute;
  bottom:30px;
  left:40px;
}
.obstacle{
  width:22px;
  height:45px;
  background:linear-gradient(#ff4444,#aa0000);
  position:absolute;
  bottom:30px;
  border-radius:6px;
}
button{
  padding:10px 25px;
  font-size:16px;
  background:red;
  color:white;
  border:none;
  border-radius:8px;
  margin-top:10px;
}
#msg{margin-top:10px;font-size:18px}
</style>
</head>

<body>

<h2>ğŸ¦– Ø§Ø±ÙƒØ¶ ÙˆØ§Ø±Ø¨Ø­</h2>
<p>Ø§Ù„Ù…Ø³Ø§ÙØ©: <span id="score">0</span></p>

<div id="game">
  <div id="ground"></div>
  <div id="player"></div>
</div>

<button onclick="jump()">Ù‚ÙØ²</button>
<div id="msg"></div>

<script>
const game = document.getElementById("game");
const player = document.getElementById("player");
const ground = document.getElementById("ground");
const scoreEl = document.getElementById("score");
const msg = document.getElementById("msg");

let y = 0;
let velocity = 0;
let gravity = 0.8;
let jumping = false;

let speed = 4;
let score = 0;
let gameOver = false;

let obstacles = [];

function jump(){
  if(jumping || gameOver) return;
  velocity = 12;
  jumping = true;
}

// ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù„Ø¹Ø¨Ø©
setInterval(()=>{
  if(gameOver) return;

  // ÙÙŠØ²ÙŠØ§Ø¡ Ø§Ù„Ù‚ÙØ²
  velocity -= gravity;
  y += velocity;
  if(y <= 0){
    y = 0;
    velocity = 0;
    jumping = false;
  }
  player.style.bottom = (30 + y) + "px";

  // Ø­Ø±ÙƒØ© Ø§Ù„Ø£Ø±Ø¶
  ground.style.left = (ground.offsetLeft - speed) + "px";
  if(ground.offsetLeft <= -game.offsetWidth){
    ground.style.left = "0px";
  }

  // Ø¥Ø¶Ø§ÙØ© Ø¹ÙˆØ§Ø¦Ù‚
  if(Math.random() < 0.02){
    let obs = document.createElement("div");
    obs.className = "obstacle";
    obs.style.right = "-30px";
    game.appendChild(obs);
    obstacles.push(obs);
  }

  // ØªØ­Ø±ÙŠÙƒ Ø§Ù„Ø¹ÙˆØ§Ø¦Ù‚
  obstacles.forEach((obs,i)=>{
    obs.style.right = (parseInt(obs.style.right)+speed) + "px";

    let obsX = game.offsetWidth - obs.offsetLeft;
    if(obsX > 40 && obsX < 70 && y < 30){
      msg.innerText="âŒ Ø®Ø³Ø±Øª!";
      gameOver = true;
    }

    if(obs.offsetLeft < -30){
      obs.remove();
      obstacles.splice(i,1);
      score += 10;
      scoreEl.innerText = score;
      if(score % 100 === 0) speed += 0.5;
      if(score >= 500){
        msg.innerText="ğŸ‰ Ù…Ø¨Ø±ÙˆÙƒ Ø±Ø¨Ø­Øª!";
        gameOver = true;
      }
    }
  });

},30);
</script>

</body>
</html>
